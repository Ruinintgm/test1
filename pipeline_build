#!groovy

pipeline {
  agent { node ("precise") }
  options {
    buildDiscarder(logRotator(numToKeepStr: '10', artifactNumToKeepStr: '10'))
    timestamps()
    }
    stages {
      stage("Stage1"){
        steps {
          echo '==========Building==========='
          sh 'docker build -t ipscript .'
          }
      }
      stage("Stage2"){
        steps {
          echo '==========Running============'
          sh 'docker run -d ipscript'
        }
      }
    }
}
